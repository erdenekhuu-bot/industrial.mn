import{_ as z,b_ as I,f as r,o as n,g as c,h as s,w as a,v as u,p as m,i as t,t as i,l as $,A as b,j as f,F as B,k as q,I as O,J as L}from"./app-b30e4361.js";const N={head:{title:"All Blogs"},data:()=>({title:"Мэдээ",loading:!0,searchKeyword:"",currentPage:1,totalPages:1,blogs:[{},{},{}],recentBlogs:[{},{},{},{},{}],filterDrawerOpen:!1,blogCategories:[],queryParamBlog:{page:1,categorySlug:null,searchKeyword:""},currentCategory:{}}),components:{SocialShare:I},methods:{toggleFilterDrawer(e){this.filterDrawerOpen=e},pageSwitch(e){this.$router.push({query:{...this.$route.query,page:this.queryParamBlog.page}}).catch(()=>{}),this.getBlogList({page:e})},search(){this.$router.push({name:"SearchBlogs",params:this.queryParamBlog.searchKeyword.length>0?{searchKeyword:this.queryParamBlog.searchKeyword}:{},query:{page:1}}).catch(()=>{})},async getBlogCategories(){const e=await this.call_api("get","all-blog-categories");e.data.success?(this.blogCategories=e.data.data,this.recentBlogs=e.data.recentBlogs.data):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"})},async getBlogList(e){this.loading=!0;let l={...this.queryParamBlog,...e},h="all-blogs/search?";h+=`&page=${this.queryParamBlog.page}`,h+=l.categorySlug?`&category_slug=${l.categorySlug}`:"",h+=l.searchKeyword?`&searchKeyword=${l.searchKeyword}`:"";const d=await this.call_api("get",h);d.data.success&&(this.blogs=d.data.blogs.data,this.totalPages=d.data.totalPage,this.queryParamBlog.page=d.data.currentPage,this.currentCategory=d.data.currentCategory?d.data.currentCategory:{}),l.searchKeyword.length>0&&(this.searchKeyword=l.searchKeyword),this.loading=!1}},async created(){this.queryParamBlog.categorySlug=this.$route.params.categorySlug||this.queryParamBlog.categorySlug,this.queryParamBlog.searchKeyword=this.$route.params.searchKeyword||this.queryParamBlog.searchKeyword,this.$route.query.page&&(this.queryParamBlog.page=this.$route.query.page),this.getBlogCategories(),this.getBlogList({page:this.queryParamBlog.page,categorySlug:this.queryParamBlog.categorySlug,searchKeyword:this.queryParamBlog.searchKeyword})}},y=e=>(O("data-v-139ec8b3"),e=e(),L(),e),x=y(()=>t("b",{class:"px-2"},"Нүүр",-1)),U={class:"px-2"},E={class:"border-bottom pa-5 d-lg-none d-flex align-center"},J=y(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[t("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)),T={class:"ms-4 fw-600 fs-14 lh-1"},G=y(()=>t("i",{class:"la la-close fs-20"},null,-1)),Q=[G],R={class:"pa-5 min-100vh"},W={class:"mb-5"},X=y(()=>t("i",{class:"las la-search fs-18 ts-05"},null,-1)),Y={class:"mb-5"},ee={class:"fw-700 fs-14 mb-4 border-bottom pb-3"},te={class:"list-unstyled ps-0"},se={class:"my-2"},ae={class:"mb-6"},le={class:"fw-700 fs-14 mb-4 border-bottom pb-3"},oe={class:"list-unstyled ps-0"},re={class:"my-2"},ne={class:"pt-5 ps-lg-7"},ie={class:"d-flex align-center"},ce={key:0,class:"fs-18"},de={key:1,class:"fs-18"},ge={key:2,class:"fs-18 ml-2"},ue={class:"d-lg-none ms-auto ms-sm-0"},he=y(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[t("path",{id:"Path_2643","data-name":"Path 2643",d:"M20,5H18.829a3,3,0,0,0-5.659,0H4A1,1,0,0,0,4,7h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2ZM16,7a1,1,0,1,0-1-1A1,1,0,0,0,16,7ZM3,12a1,1,0,0,1,1-1H5.171a3,3,0,0,1,5.659,0H20a1,1,0,0,1,0,2H10.829a3,3,0,0,1-5.659,0H4A1,1,0,0,1,3,12Zm5,1a1,1,0,1,0-1-1A1,1,0,0,0,8,13ZM4,17a1,1,0,0,0,0,2h9.171a3,3,0,0,0,5.659,0H20a1,1,0,0,0,0-2H18.829a3,3,0,0,0-5.659,0Zm13,1a1,1,0,1,1-1-1A1,1,0,0,1,17,18Z",transform:"translate(-3 -3)",fill:"#2a2e34","fill-rule":"evenodd"})],-1)),_e=[he],pe={class:"mb-7"},me={key:0},ye={slot:"progress"},fe={class:"grey--text d-block"},ve={class:"grey--text"},we={key:1,class:"pa-4 text-center fs-20"},be={key:0,class:"text-center"};function Be(e,l,h,d,Pe,_){const p=r("v-row"),P=r("v-container"),S=r("v-text-field"),g=r("v-col"),k=r("v-btn"),C=r("v-form"),v=r("router-link"),K=r("SocialShare"),H=r("v-skeleton-loader"),A=r("v-progress-linear"),Z=r("v-img"),V=r("v-card-title"),D=r("v-card-text"),M=r("v-card-actions"),F=r("v-card"),j=r("v-pagination");return n(),c(B,null,[s(P,{class:"pt-20"},{default:a(()=>[e.blogs.length?(n(),u(p,{key:0},{default:a(()=>[x,m(" / "),t("b",U,i(e.title),1)]),_:1})):$("",!0)]),_:1}),t("div",null,[s(P,{class:"pt-0 all-blogs"},{default:a(()=>[s(p,{"no-gutters":"",align:"start"},{default:a(()=>[s(g,{lg:"3",class:"w-lg-270px sticky-top"},{default:a(()=>[t("div",{class:b(["border-end filter-drawer",{"open c-scrollbar overflow-y-auto z-1020":e.filterDrawerOpen}])},[t("div",E,[J,t("span",T,i(e.$t("filters")),1),t("button",{type:"button",onClick:l[0]||(l[0]=f(o=>_.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),class:"ms-4 fw-600 fs-20 lh-1 ms-auto"},Q)]),t("div",R,[t("div",W,[s(C,{class:"border rounded-pill flex-grow-1",onSubmit:l[3]||(l[3]=f(o=>_.search(),["stop","prevent"])),rounded:""},{default:a(()=>[s(p,{align:"center",dense:""},{default:a(()=>[s(g,{class:""},{default:a(()=>[s(S,{placeholder:e.$t("search"),type:"text","hide-details":"auto",variant:"plain",modelValue:e.queryParamBlog.searchKeyword,"onUpdate:modelValue":l[1]||(l[1]=o=>e.queryParamBlog.searchKeyword=o),solo:"",flat:"",dense:"",class:"border-0 px-3 search-input-field"},null,8,["placeholder","modelValue"])]),_:1}),s(g,{cols:"auto",class:""},{default:a(()=>[s(k,{size:"small",icon:"$vuetify",class:"me-1 shadow-none",onClick:l[2]||(l[2]=f(o=>_.search(),["stop","prevent"]))},{default:a(()=>[X]),_:1})]),_:1})]),_:1})]),_:1})]),t("div",Y,[t("h4",ee,i(e.$t("categories")),1),t("div",null,[t("ul",te,[t("div",null,[t("li",se,[s(v,{to:{name:"AllBlogs"},class:b(["text-reset fs-14",{"fw-600":e.is_empty_obj(e.currentCategory)}])},{default:a(()=>[t("span",null,i(e.$t("all_categories")),1)]),_:1},8,["class"])]),(n(!0),c(B,null,q(e.blogCategories,(o,w)=>(n(),c("li",{key:w,class:"my-2"},[e.is_empty_obj(e.currentCategory)?(n(),u(v,{key:0,to:{name:"AllBlogsFilter",params:{categorySlug:o.slug}},class:"text-reset fs-14"},{default:a(()=>[m(i(o.name),1)]),_:2},1032,["to"])):(n(),u(v,{key:1,to:{name:"AllBlogsFilter",params:{categorySlug:o.slug}},class:b(["text-reset fs-14",{"fw-600":e.currentCategory.slug===o.slug}])},{default:a(()=>[m(i(o.name),1)]),_:2},1032,["to","class"]))]))),128))])])])]),t("div",ae,[t("h4",le,i(e.$t("social_media")),1),t("div",null,[t("ul",oe,[t("div",null,[t("li",re,[s(K,{title:e.$t("all_blogs")},null,8,["title"])])])])])])])],2)]),_:1}),s(g,{lg:"9",class:"v-col-auto"},{default:a(()=>[t("div",ne,[s(p,{align:"end",class:""},{default:a(()=>[s(g,{cols:"12",sm:"",class:"pb-0 pt-3"},{default:a(()=>[t("div",ie,[t("div",null,[e.searchKeyword.length>0?(n(),c("h1",ce,i(e.$t("search_results_for"))+' "'+i(e.searchKeyword)+'" ',1)):e.is_empty_obj(e.currentCategory)?(n(),c("h1",ge,i(e.$t("all_blogs")),1)):(n(),c("h1",de,i(e.currentCategory.name),1))]),t("div",ue,[t("button",{class:"ms-4 pa-2 border-gray-300 rounded border d-flex justify-center align-center",onClick:l[4]||(l[4]=f(o=>_.toggleFilterDrawer(!e.filterDrawerOpen),["stop"])),type:"button"},_e)])])]),_:1})]),_:1}),t("div",pe,[e.blogs.length>0?(n(),u(p,{key:0,class:"row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-xl-3 md-gutters-10"},{default:a(()=>[(n(!0),c(B,null,q(e.blogs,(o,w)=>(n(),u(g,{key:w,cols:"8",sm:"4"},{default:a(()=>[e.loading?(n(),c("div",me,[s(H,{type:"image",class:"pa-2",height:"100"})])):(n(),u(F,{key:1,class:"mx-auto my-6 mx-lg-2 border",style:{"box-shadow":"none"}},{default:a(()=>[t("template",ye,[s(A,{color:"deep-purple",height:"10",indeterminate:""})]),s(Z,{height:"250",src:o.banner,cover:""},null,8,["src"]),s(V,{style:{"font-size":"1rem","line-height":"1.6","white-space":"normal"},class:"text-truncate-2 py-0 my-4 blog-title"},{default:a(()=>[m(i(o.title),1)]),_:2},1024),s(D,{class:"pb-0"},{default:a(()=>[t("span",fe,[t("i",null,i(o.category),1)]),t("span",ve,i(o.created_at),1)]),_:2},1024),s(M,{class:"pt-1"},{default:a(()=>[s(k,{color:"primary",text:"",to:{name:"BlogDetails",params:{slug:o.slug}},class:"text-capitalize"},{default:a(()=>[m(i(e.$t("read_full_blog")),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))]),_:2},1024))),128))]),_:1})):(n(),c("div",we,i(e.$t("no_blog_found")),1))]),e.totalPages>1?(n(),c("div",be,[s(j,{modelValue:e.queryParamBlog.page,"onUpdate:modelValue":[l[5]||(l[5]=o=>e.queryParamBlog.page=o),_.pageSwitch],length:e.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","length","onUpdate:modelValue"])])):$("",!0)])]),_:1})]),_:1})]),_:1})])],64)}const $e=z(N,[["render",Be],["__scopeId","data-v-139ec8b3"]]);export{$e as default};
